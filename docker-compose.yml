version: '2'
services:
  web:
    image: reddi2mingle
    ports:
      - "80:80"
    volumes:
      - .:/usr/src/app
    depends_on:
      - neo4j
      - mysql
    command: npm run start:dev
    environment:
      - REDDIT_KEY=$REDDIT_KEY
      - REDDIT_SECRET=$REDDIT_SECRET
      - PORT=80
      - DEBUG=0
  neo4j:
    image: neo4j
    volumes:
      - ./docker:/docker-entrypoint-initdb.d
      # - $HOME/neo4j/data:/data \
    # command: /docker-entrypoint.sh neo4j
    environment: 
     - NEO4J_AUTH=neo4j/cake
    ports:
      - "7475:7474"
  mysql:
    image: mysql
    volumes:
      - ./docker:/docker-entrypoint-initdb.d
      # - $HOME/neo4j/data:/data \
    # command: /docker-entrypoint.sh neo4j
    environment: 
     - MYSQL_ROOT_PASSWORD=""
     - MYSQL_User="root"
     - MYSQL_DATABASE="mysql"

     